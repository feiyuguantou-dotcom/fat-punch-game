<!--pages/community/community.wxml-->
<view class="page">
  <!-- å¤´éƒ¨ -->
  <view class="header">
    <view class="header-title">é‡Šæ€€æ ‘æ´</view>
    <view class="header-subtitle">åˆ†äº«ä½ çš„æ•…äº‹,è·å–æ¸©æš–æ”¯æŒ</view>
  </view>

  <!-- å‘å¸ƒæŒ‰é’® -->
  <view class="publish-btn" bindtap="publishPost">
    <view class="publish-icon">âœï¸</view>
    <view class="publish-text">åˆ†äº«ä½ çš„æ•…äº‹...</view>
  </view>

  <!-- å¸–å­åˆ—è¡¨ -->
  <view class="posts-list">
    <view class="post-item" wx:for="{{posts}}" wx:key="id">
      <view class="post-header">
        <view class="post-avatar">{{item.avatar}}</view>
        <view class="post-info">
          <view class="post-author">{{item.author}}</view>
          <view class="post-time">{{item.time}}</view>
        </view>
      </view>

      <view class="post-content">{{item.content}}</view>

      <view class="post-tags" wx:if="{{item.tags}}">
        <view class="tag" wx:for="{{item.tags}}" wx:key="*this" wx:for-item="tag">
          #{{tag}}
        </view>
      </view>

      <view class="post-actions">
        <view class="action-item" bindtap="likePost" data-id="{{item.id}}">
          <view class="action-icon">{{item.liked ? 'â¤ï¸' : 'ğŸ¤'}}</view>
          <view class="action-text">{{item.likeCount}}</view>
        </view>
        <view class="action-item" bindtap="commentPost" data-id="{{item.id}}">
          <view class="action-icon">ğŸ’¬</view>
          <view class="action-text">{{item.commentCount}}</view>
        </view>
        <view class="action-item" bindtap="sendHug" data-id="{{item.id}}">
          <view class="action-icon">ğŸ¤—</view>
          <view class="action-text">æ‹¥æŠ±</view>
        </view>
      </view>
    </view>

    <!-- ç©ºçŠ¶æ€ -->
    <view class="empty-state" wx:if="{{posts.length === 0}}">
      <view class="empty-icon">ğŸ’¬</view>
      <view class="empty-text">è¿˜æ²¡æœ‰å¸–å­,å¿«æ¥å‘å¸ƒç¬¬ä¸€æ¡å§~</view>
    </view>
  </view>
</view>
